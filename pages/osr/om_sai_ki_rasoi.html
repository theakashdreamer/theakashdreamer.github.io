<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Om Sai Ki Rasoi | Luxury Dining & Online Ordering</title>
    <meta name="description" content="Om Sai Ki Rasoi - Experience luxury dining with authentic flavors. Book a table or order online today.">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        osr: {
                            gold: '#D4AF37',
                            goldlight: '#F4CF57',
                            maroon: '#5A0F1C',
                            maroonlight: '#7A1F2C',
                            cream: '#FFF8F0', // Slightly lighter cream
                            black: '#0a0a0a',
                            gray: '#333333'
                        }
                    },
                    fontFamily: {
                        heading: ['Playfair Display', 'serif'],
                        body: ['Poppins', 'sans-serif'],
                    },
                    boxShadow: {
                        'soft': '0 10px 40px -10px rgba(0,0,0,0.08)',
                        'glow': '0 0 20px rgba(212, 175, 55, 0.3)'
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-out',
                        'slide-up': 'slideUp 0.8s ease-out',
                        'zoom-slow': 'zoomSlow 20s infinite alternate',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideUp: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        zoomSlow: {
                            '0%': { transform: 'scale(1)' },
                            '100%': { transform: 'scale(1.1)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Modern Base Styles */
        body {
            background-color: #FFF8F0;
            color: #333;
        }
        
        /* Glassmorphism Utilities */
        .glass {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .glass-dark {
            background: rgba(10, 10, 10, 0.85);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border-bottom: 1px solid rgba(212, 175, 55, 0.1);
        }
        
        /* Gradients */
        .text-gold-gradient {
            background: linear-gradient(to right, #D4AF37, #F4CF57, #D4AF37);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            background-size: 200% auto;
            animation: shine 3s linear infinite;
        }

        @keyframes shine {
            to {
                background-position: 200% center;
            }
        }

        /* Modern Buttons */
        .btn-gold {
            background: linear-gradient(135deg, #D4AF37, #C59D25);
            color: #FFF;
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1;
        }
        
        .btn-gold::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #F4CF57, #D4AF37);
            z-index: -1;
            transition: opacity 0.4s ease;
            opacity: 0;
        }

        .btn-gold:hover::after {
            opacity: 1;
        }

        .btn-gold:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(212, 175, 55, 0.3);
        }

        .btn-outline {
            background: transparent;
            color: #FFF;
            border: 1px solid rgba(255, 255, 255, 0.6);
            transition: all 0.3s ease;
        }

        .btn-outline:hover {
            border-color: #D4AF37;
            background: rgba(212, 175, 55, 0.2);
            color: #D4AF37;
            transform: translateY(-2px);
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #FFF8F0;
        }
        ::-webkit-scrollbar-thumb {
            background: #5A0F1C;
            border-radius: 4px;
        }
        
        /* Hide scrollbar for Chrome, Safari and Opera */
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        /* Hide scrollbar for IE, Edge and Firefox */
        .hide-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }

        /* Animations */
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.5, 0, 0, 1);
        }

        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }

        /* Loader */
        .loader {
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top: 3px solid #D4AF37;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* Cart Drawer */
        .cart-drawer { transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1); }
        .cart-open { transform: translateX(0); }
        .cart-closed { transform: translateX(100%); }

        /* Badge styling */
        .badge-type {
            width: 18px;
            height: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
        }
        .badge-veg { border: 2px solid #166534; }
        .badge-veg-dot { width: 8px; height: 8px; background-color: #166534; border-radius: 50%; }
        .badge-nonveg { border: 2px solid #991b1b; }
        .badge-nonveg-dot { width: 8px; height: 8px; background-color: #991b1b; border-radius: 50%; }

        /* Carousel Styles */
        .carousel-slide {
            position: absolute;
            inset: 0;
            transition: opacity 1s ease-in-out;
            opacity: 0;
            z-index: 0;
        }
        .carousel-slide.active {
            opacity: 1;
            z-index: 1;
        }
        .slide-content {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s ease-out 0.5s;
        }
        .carousel-slide.active .slide-content {
            opacity: 1;
            transform: translateY(0);
        }

        /* 3D Booklet Styles */
        .book-scene {
            perspective: 2000px;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .book {
            position: relative;
            width: 90%;
            height: 90%;
            transform-style: preserve-3d;
            /* Default aspect ratio is handled by container */
        }
        .sheet {
            position: absolute;
            top: 0;
            right: 0;
            width: 50%; /* Each sheet is half the book width (spine is center) */
            height: 100%;
            transform-origin: left center; /* Spine logic */
            transition: transform 1.2s cubic-bezier(0.645, 0.045, 0.355, 1); /* Realistic ease */
            transform-style: preserve-3d;
            cursor: pointer;
        }
        .sheet.flipped {
            transform: rotateY(-180deg);
        }
        .page-face {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            background-image: url('https://www.transparenttextures.com/patterns/cream-paper.png');
            background-color: #FFF8F0;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.05);
            overflow-y: auto;
            border-radius: 0 10px 10px 0; /* Outer corners rounded */
        }
        .page-face.front {
            z-index: 2;
            border-left: 1px solid rgba(0,0,0,0.1);
        }
        .page-face.back {
            transform: rotateY(180deg);
            z-index: 1;
            border-radius: 10px 0 0 10px; /* Outer corners rounded when flipped */
            border-right: 1px solid rgba(0,0,0,0.1);
            background-image: linear-gradient(to right, rgba(0,0,0,0.05), transparent); /* Spine shadow */
        }
        
        /* Mobile Specific for Booklet */
        @media (max-width: 768px) {
            .book-scene {
                perspective: 1500px;
            }
            .book {
                width: 95%;
                height: 80vh;
            }
            .sheet {
                width: 100%; /* Full width on mobile */
                right: auto;
                left: 0;
                transform-origin: left center;
            }
            /* When flipped on mobile, it goes off-screen if we don't adjust? 
               Actually, we can treat mobile book as a single stack that flips completely.
               Or stick to the spread logic but scale it down.
               Let's scale/fit the spread logic for best "Book" feel.
            */
        }
        
        /* Binding effect */
        .book-binding {
            position: absolute;
            left: 50%;
            top: 1%;
            bottom: 1%;
            width: 6px;
            background: linear-gradient(to right, rgba(90, 15, 28, 0.8), rgba(90, 15, 28, 0.6) 40%, rgba(90, 15, 28, 0.6) 60%, rgba(90, 15, 28, 0.8));
            transform: translateX(-50%);
            z-index: 50;
            border-radius: 2px;
            box-shadow: 0 0 5px rgba(0,0,0,0.3);
        }
    </style>
</head>
<body class="font-body overflow-x-hidden relative selection:bg-osr-gold selection:text-white">

    <!-- Navigation -->
    <nav id="navbar" class="fixed w-full z-50 transition-all duration-500 py-4">
        <div class="absolute inset-0 bg-transparent transition-all duration-500" id="nav-bg"></div>
        <div class="container mx-auto px-6 flex justify-between items-center relative z-10">
            <!-- Logo -->
            <a href="#" class="flex items-center gap-3 group">
                <div class="relative w-10 h-10 md:w-12 md:h-12 flex items-center justify-center">
                    <div class="absolute inset-0 border border-osr-gold/50 rounded-full scale-100 group-hover:scale-110 transition-transform duration-500"></div>
                    <div class="absolute inset-0 border-2 border-osr-gold rounded-full scale-90 group-hover:scale-100 opacity-80 group-hover:opacity-100 transition-all duration-500"></div>
                    <span class="font-heading font-bold text-osr-gold text-base md:text-lg relative z-10 tracking-widest">OSR</span>
                </div>
                <div class="hidden sm:block">
                    <h1 class="font-heading font-bold text-xl text-white tracking-[0.15em] group-hover:text-osr-gold transition-colors">OM SAI KI RASOI</h1>
                    <div class="flex items-center gap-2">
                        <span class="h-[1px] w-8 bg-osr-gold/50"></span>
                        <p class="text-[10px] text-osr-gold/90 tracking-[0.3em] uppercase font-light">Fine Dining</p>
                    </div>
                </div>
            </a>

            <!-- Desktop Menu -->
            <div class="hidden lg:flex items-center gap-12">
                <div class="flex gap-8 bg-black/20 backdrop-blur-sm px-8 py-2.5 rounded-full border border-white/5">
                    <a href="#home" class="text-white/90 hover:text-osr-gold transition-colors text-xs uppercase tracking-[0.15em] font-medium relative group">Home
                        <span class="absolute -bottom-1 left-1/2 -translate-x-1/2 w-0 h-[2px] bg-osr-gold transition-all duration-300 group-hover:w-1/2 rounded-full"></span>
                    </a>
                    <a href="#about" class="text-white/90 hover:text-osr-gold transition-colors text-xs uppercase tracking-[0.15em] font-medium relative group">About
                        <span class="absolute -bottom-1 left-1/2 -translate-x-1/2 w-0 h-[2px] bg-osr-gold transition-all duration-300 group-hover:w-1/2 rounded-full"></span>
                    </a>
                    <a href="#menu" class="text-white/90 hover:text-osr-gold transition-colors text-xs uppercase tracking-[0.15em] font-medium relative group">Menu
                        <span class="absolute -bottom-1 left-1/2 -translate-x-1/2 w-0 h-[2px] bg-osr-gold transition-all duration-300 group-hover:w-1/2 rounded-full"></span>
                    </a>
                    <a href="#gallery" class="text-white/90 hover:text-osr-gold transition-colors text-xs uppercase tracking-[0.15em] font-medium relative group">Gallery
                        <span class="absolute -bottom-1 left-1/2 -translate-x-1/2 w-0 h-[2px] bg-osr-gold transition-all duration-300 group-hover:w-1/2 rounded-full"></span>
                    </a>
                </div>
                <a href="#booking" class="px-6 py-2.5 bg-osr-gold text-osr-black text-xs uppercase tracking-widest font-bold rounded-sm hover:bg-white transition-all duration-300 shadow-glow">
                    Book Table
                </a>
            </div>

            <!-- Icons -->
            <div class="flex items-center gap-6">
                <button onclick="toggleCart()" class="relative text-white hover:text-osr-gold transition-colors group p-2">
                    <i class="fa-solid fa-cart-shopping text-xl"></i>
                    <span id="cart-count" class="absolute top-0 right-0 bg-osr-maroon border border-white/20 text-white text-[9px] font-bold w-4 h-4 rounded-full flex items-center justify-center transform scale-0 transition-transform duration-300 shadow-lg">0</span>
                </button>
                <button onclick="toggleMobileMenu()" class="lg:hidden text-osr-gold text-2xl hover:rotate-90 transition-transform duration-300 p-2">
                    <div class="space-y-1.5">
                        <span class="block w-6 h-[2px] bg-osr-gold ml-auto"></span>
                        <span class="block w-8 h-[2px] bg-osr-gold ml-auto"></span>
                        <span class="block w-4 h-[2px] bg-osr-gold ml-auto"></span>
                    </div>
                </button>
            </div>
        </div>
        
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden lg:hidden glass-dark border-t border-white/10 absolute w-full top-full left-0 animate-slide-up origin-top shadow-2xl">
            <div class="flex flex-col p-8 gap-6 items-center text-center">
                <a href="#home" onclick="toggleMobileMenu()" class="text-white/90 hover:text-osr-gold text-lg font-heading tracking-widest py-2">Home</a>
                <a href="#about" onclick="toggleMobileMenu()" class="text-white/90 hover:text-osr-gold text-lg font-heading tracking-widest py-2">About</a>
                <a href="#menu" onclick="toggleMobileMenu()" class="text-white/90 hover:text-osr-gold text-lg font-heading tracking-widest py-2">Menu</a>
                <a href="#booking" onclick="toggleMobileMenu()" class="text-white/90 hover:text-osr-gold text-lg font-heading tracking-widest py-2">Book Table</a>
                <a href="#contact" onclick="toggleMobileMenu()" class="text-white/90 hover:text-osr-gold text-lg font-heading tracking-widest py-2">Contact</a>
            </div>
        </div>
    </nav>

    <!-- Cart Drawer -->
    <div id="cart-overlay" onclick="toggleCart()" class="fixed inset-0 bg-osr-black/60 z-[60] hidden backdrop-blur-sm transition-opacity duration-300"></div>
    <div id="cart-drawer" class="fixed top-0 right-0 h-full w-[90%] max-w-[400px] bg-white z-[70] cart-drawer cart-closed shadow-2xl flex flex-col rounded-l-2xl overflow-hidden">
        <div class="bg-osr-maroon p-6 flex justify-between items-center text-white relative overflow-hidden">
            <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/dark-matter.png')] opacity-30"></div>
            <h2 class="font-heading text-2xl font-bold relative z-10">Your Order</h2>
            <button onclick="toggleCart()" class="hover:rotate-90 transition-transform duration-300 relative z-10"><i class="fa-solid fa-xmark text-2xl"></i></button>
        </div>
        
        <!-- Cart Items -->
        <div id="cart-items" class="flex-1 overflow-y-auto p-6 space-y-4 bg-gray-50/50">
            <!-- Items injected by JS -->
            <div class="flex flex-col items-center justify-center h-full text-gray-400">
                <div class="w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mb-4">
                    <i class="fa-solid fa-basket-shopping text-3xl text-gray-300"></i>
                </div>
                <p class="font-medium">Your cart is empty</p>
                <button onclick="toggleCart(); window.location.href='#menu'" class="mt-4 text-osr-maroon text-sm font-bold hover:underline">Start Ordering</button>
            </div>
        </div>

        <!-- Checkout Section -->
        <div class="border-t border-gray-100 p-6 bg-white shadow-[0_-5px_20px_rgba(0,0,0,0.05)]">
            <div class="flex justify-between mb-4 text-xl font-heading font-bold text-osr-maroon">
                <span>Total</span>
                <span id="cart-total">₹0</span>
            </div>
            
            <div id="checkout-form-container" class="hidden space-y-4 animate-fade-in">
                <div class="space-y-3">
                    <input type="text" id="checkout-name" placeholder="Full Name" class="w-full p-3 bg-gray-50 border border-gray-200 rounded-lg focus:border-osr-gold focus:ring-1 focus:ring-osr-gold outline-none text-sm transition-all">
                    <input type="tel" id="checkout-phone" placeholder="Mobile Number" class="w-full p-3 bg-gray-50 border border-gray-200 rounded-lg focus:border-osr-gold focus:ring-1 focus:ring-osr-gold outline-none text-sm transition-all">
                    <textarea id="checkout-address" placeholder="Delivery Address" class="w-full p-3 bg-gray-50 border border-gray-200 rounded-lg focus:border-osr-gold focus:ring-1 focus:ring-osr-gold outline-none text-sm h-20 transition-all resize-none"></textarea>
                </div>
                
                <div class="flex gap-3">
                    <button type="button" class="flex-1 py-3 border border-osr-gold bg-osr-gold/10 text-osr-maroon text-xs font-bold rounded-lg uppercase tracking-wide">Cash on Delivery</button>
                    <button type="button" class="flex-1 py-3 border border-gray-200 text-gray-400 text-xs font-bold rounded-lg uppercase tracking-wide cursor-not-allowed">UPI (Coming Soon)</button>
                </div>
                <button onclick="processCheckout()" class="w-full btn-gold py-4 rounded-xl font-bold shadow-lg mt-2 uppercase tracking-widest text-sm">Confirm Order</button>
            </div>

            <button id="btn-proceed-checkout" onclick="showCheckoutForm()" class="w-full bg-osr-maroon text-white hover:bg-osr-maroon/90 py-4 rounded-xl font-bold shadow-lg uppercase tracking-widest text-sm transition-all">Proceed to Checkout</button>
        </div>
    </div>

    <!-- Enhanced Carousel Hero Section -->
    <section id="home" class="relative h-screen min-h-[600px] overflow-hidden bg-osr-black group">
        <!-- Slides Container -->
        <div id="carousel-slides" class="absolute inset-0">
            <!-- JS will inject slides here -->
        </div>

        <!-- Overlay Gradient -->
        <div class="absolute inset-0 bg-gradient-to-t from-osr-black via-transparent to-osr-black/60 pointer-events-none z-10"></div>
        <div class="absolute inset-0 bg-gradient-to-r from-osr-black/40 via-transparent to-osr-black/40 pointer-events-none z-10"></div>

        <!-- Carousel Controls -->
        <button onclick="prevSlide()" class="absolute left-4 top-1/2 -translate-y-1/2 z-30 w-12 h-12 rounded-full border border-white/20 text-white hover:bg-osr-gold hover:text-osr-black hover:border-osr-gold transition-all duration-300 flex items-center justify-center backdrop-blur-sm hidden md:flex opacity-0 group-hover:opacity-100 transform -translate-x-4 group-hover:translate-x-0">
            <i class="fa-solid fa-chevron-left"></i>
        </button>
        <button onclick="nextSlide()" class="absolute right-4 top-1/2 -translate-y-1/2 z-30 w-12 h-12 rounded-full border border-white/20 text-white hover:bg-osr-gold hover:text-osr-black hover:border-osr-gold transition-all duration-300 flex items-center justify-center backdrop-blur-sm hidden md:flex opacity-0 group-hover:opacity-100 transform translate-x-4 group-hover:translate-x-0">
            <i class="fa-solid fa-chevron-right"></i>
        </button>

        <!-- Dots -->
        <div class="absolute bottom-10 left-1/2 -translate-x-1/2 z-30 flex gap-3" id="carousel-dots">
            <!-- JS will inject dots -->
        </div>

        <!-- Scroll Indicator -->
        <div class="absolute bottom-8 left-10 z-20 hidden md:flex items-center gap-3 animate-pulse">
            <span class="text-[10px] text-white/60 tracking-widest uppercase rotate-90 origin-left translate-y-12 translate-x-3">Scroll</span>
            <div class="h-16 w-[1px] bg-gradient-to-b from-transparent via-osr-gold to-transparent"></div>
        </div>
    </section>

    <!-- Enhanced About Section -->
    <section id="about" class="py-16 md:py-24 bg-osr-cream relative overflow-hidden">
        <!-- Decorative Elements -->
        <div class="absolute top-0 right-0 w-1/2 h-full bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-5 pointer-events-none"></div>
        <div class="absolute -left-20 top-40 w-64 h-64 bg-osr-gold/10 rounded-full blur-3xl pointer-events-none"></div>

        <div class="container mx-auto px-6 relative z-10">
            <div class="flex flex-col lg:flex-row items-center gap-12 lg:gap-20">
                <!-- Image Side -->
                <div class="lg:w-1/2 relative reveal group">
                    <div class="relative rounded-t-[5rem] lg:rounded-t-[10rem] rounded-b-3xl overflow-hidden shadow-2xl border-4 border-white">
                        <img src="https://images.unsplash.com/photo-1559339352-11d035aa65de?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80" alt="Restaurant Interior" class="w-full object-cover h-[400px] lg:h-[600px] transition-transform duration-700 group-hover:scale-105">
                        <div class="absolute inset-0 bg-gradient-to-t from-osr-black/60 via-transparent to-transparent"></div>
                    </div>
                    
                    <!-- Decorative Badge -->
                    <div class="absolute -left-4 top-10 lg:-left-6 lg:top-20 animate-[spin_10s_linear_infinite] scale-75 lg:scale-100">
                         <div class="w-24 h-24 border border-dashed border-osr-gold rounded-full"></div>
                    </div>

                    <!-- Floating Card -->
                    <div class="absolute -bottom-6 -right-2 lg:-bottom-10 lg:-right-10 glass p-6 lg:p-8 rounded-2xl shadow-soft max-w-[200px] lg:max-w-xs animate-[float_4s_ease-in-out_infinite] border-l-4 border-osr-gold backdrop-blur-md bg-white/80">
                        <div class="flex items-center gap-3 mb-2 lg:mb-4">
                            <div class="w-10 h-10 lg:w-14 lg:h-14 rounded-full bg-osr-maroon flex items-center justify-center text-osr-gold text-sm lg:text-xl shadow-lg">
                                <i class="fa-solid fa-quote-left"></i>
                            </div>
                            <div>
                                <h4 class="font-heading font-bold text-osr-maroon text-sm lg:text-lg">Sanjeev K.</h4>
                                <p class="text-[8px] lg:text-[10px] text-gray-500 uppercase tracking-widest font-bold">Master Chef</p>
                            </div>
                        </div>
                        <p class="text-xs lg:text-sm text-gray-600 italic leading-relaxed font-serif">"Cooking is an art, but feeding people is an act of love."</p>
                    </div>
                </div>

                <!-- Content Side -->
                <div class="lg:w-1/2 reveal" style="transition-delay: 200ms;">
                    <div class="flex items-center gap-4 mb-4 lg:mb-6">
                        <span class="h-[1px] w-12 bg-osr-gold"></span>
                        <span class="text-osr-gold uppercase tracking-[0.3em] font-bold text-xs">Since 2015</span>
                    </div>
                    
                    <h2 class="font-heading text-4xl lg:text-6xl font-bold text-osr-maroon mb-6 lg:mb-8 leading-tight">
                        A Legacy of <br>
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-osr-gold to-yellow-600">Culinary Excellence</span>
                    </h2>
                    
                    <p class="text-gray-600 mb-8 leading-loose text-base lg:text-lg font-light text-justify">
                        Founded with a vision to bring authentic royal flavors to the modern palate, <span class="font-heading text-osr-maroon font-bold">Om Sai Ki Rasoi</span> has been a beacon of fine dining. Our chefs meticulously craft each dish using traditional spices and modern techniques.
                    </p>

                    <!-- Stats Grid -->
                    <div class="grid grid-cols-3 gap-2 lg:gap-4 border-y border-osr-gold/20 py-6 lg:py-8 mb-8 lg:mb-10">
                        <div class="text-center">
                            <h4 class="font-heading text-2xl lg:text-3xl font-bold text-osr-maroon mb-1">15+</h4>
                            <p class="text-[10px] lg:text-xs text-gray-500 uppercase tracking-wider">Years Experience</p>
                        </div>
                        <div class="text-center border-l border-osr-gold/20">
                            <h4 class="font-heading text-2xl lg:text-3xl font-bold text-osr-maroon mb-1">50+</h4>
                            <p class="text-[10px] lg:text-xs text-gray-500 uppercase tracking-wider">Expert Chefs</p>
                        </div>
                        <div class="text-center border-l border-osr-gold/20">
                            <h4 class="font-heading text-2xl lg:text-3xl font-bold text-osr-maroon mb-1">20k+</h4>
                            <p class="text-[10px] lg:text-xs text-gray-500 uppercase tracking-wider">Happy Guests</p>
                        </div>
                    </div>

                    <div class="flex flex-col sm:flex-row gap-6">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 rounded-full bg-green-50 flex items-center justify-center text-green-700 text-xl border border-green-200">
                                <i class="fa-solid fa-leaf"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-osr-maroon font-heading">100% Fresh</h3>
                                <p class="text-xs text-gray-500">Organic Sourcing</p>
                            </div>
                        </div>
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 rounded-full bg-osr-gold/10 flex items-center justify-center text-osr-gold text-xl border border-osr-gold/20">
                                <i class="fa-solid fa-award"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-osr-maroon font-heading">Award Winning</h3>
                                <p class="text-xs text-gray-500">Best Taste 2023</p>
                            </div>
                        </div>
                    </div>
                    
                    <button class="mt-8 lg:mt-10 group flex items-center gap-2 text-osr-maroon font-bold text-sm tracking-widest uppercase hover:text-osr-gold transition-colors">
                        Read Our Full Journey 
                        <i class="fa-solid fa-arrow-right-long transform group-hover:translate-x-2 transition-transform"></i>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Enhanced Menu Section -->
    <section id="menu" class="py-16 md:py-24 bg-white relative">
        <!-- Decorative Background -->
        <div class="absolute inset-0 bg-[radial-gradient(#D4AF37_1px,transparent_1px)] [background-size:20px_20px] opacity-[0.05] pointer-events-none"></div>
        
        <div class="container mx-auto px-6 relative z-10">
            <div class="text-center mb-12 lg:mb-16 reveal">
                <span class="text-osr-gold font-bold uppercase tracking-[0.2em] text-xs">Culinary Masterpieces</span>
                <h2 class="font-heading text-4xl lg:text-5xl font-bold text-osr-maroon mt-4 mb-6">Our Exclusive Menu</h2>
                
                <!-- Open Book Button -->
                <button onclick="openBooklet()" class="group relative inline-flex items-center gap-3 bg-osr-maroon text-osr-gold px-6 lg:px-8 py-3 rounded-full overflow-hidden shadow-lg transition-all hover:scale-105 hover:shadow-glow mb-4">
                    <span class="absolute inset-0 bg-white/10 translate-y-full group-hover:translate-y-0 transition-transform duration-300"></span>
                    <i class="fa-solid fa-book-open relative z-10"></i>
                    <span class="font-bold text-xs lg:text-sm uppercase tracking-widest relative z-10">View Digital Menu Book</span>
                </button>

                <div class="flex justify-center items-center gap-4 mt-6">
                    <span class="h-[1px] w-12 bg-gradient-to-r from-transparent to-osr-gold"></span>
                    <i class="fa-solid fa-utensils text-osr-gold/50 text-sm"></i>
                    <span class="h-[1px] w-12 bg-gradient-to-l from-transparent to-osr-gold"></span>
                </div>
            </div>

            <!-- Menu Filters & Search -->
            <div class="flex flex-col lg:flex-row justify-between items-center gap-6 mb-10 lg:mb-14 sticky top-[70px] lg:top-[80px] bg-white/80 backdrop-blur-xl z-30 py-4 px-4 lg:px-6 rounded-2xl lg:rounded-full shadow-soft border border-gray-100 reveal transition-all duration-300" style="transition-delay: 100ms;" id="filter-bar">
                <div class="flex overflow-x-auto pb-2 lg:pb-0 gap-2 w-full lg:w-auto hide-scrollbar" id="menu-filters">
                    <button class="whitespace-nowrap px-4 lg:px-6 py-2 lg:py-3 rounded-full text-[10px] lg:text-xs font-bold uppercase tracking-wider bg-osr-maroon text-white shadow-lg transition-all filter-btn hover:-translate-y-1" data-category="all">All</button>
                    <button class="whitespace-nowrap px-4 lg:px-6 py-2 lg:py-3 rounded-full text-[10px] lg:text-xs font-bold uppercase tracking-wider bg-gray-50 text-gray-500 hover:bg-osr-gold hover:text-white transition-all filter-btn hover:-translate-y-1" data-category="veg">Veg</button>
                    <button class="whitespace-nowrap px-4 lg:px-6 py-2 lg:py-3 rounded-full text-[10px] lg:text-xs font-bold uppercase tracking-wider bg-gray-50 text-gray-500 hover:bg-osr-gold hover:text-white transition-all filter-btn hover:-translate-y-1" data-category="chinese">Chinese</button>
                    <button class="whitespace-nowrap px-4 lg:px-6 py-2 lg:py-3 rounded-full text-[10px] lg:text-xs font-bold uppercase tracking-wider bg-gray-50 text-gray-500 hover:bg-osr-gold hover:text-white transition-all filter-btn hover:-translate-y-1" data-category="biryani">Biryani</button>
                    <button class="whitespace-nowrap px-4 lg:px-6 py-2 lg:py-3 rounded-full text-[10px] lg:text-xs font-bold uppercase tracking-wider bg-gray-50 text-gray-500 hover:bg-osr-gold hover:text-white transition-all filter-btn hover:-translate-y-1" data-category="dessert">Dessert</button>
                </div>
                
                <div class="relative w-full lg:w-80 group">
                    <input type="text" id="menu-search" placeholder="Search delicacies..." class="w-full pl-10 lg:pl-12 pr-6 py-2 lg:py-3 bg-gray-50 border border-gray-200 rounded-full focus:outline-none focus:ring-2 focus:ring-osr-gold/20 focus:border-osr-gold text-xs lg:text-sm transition-all group-hover:bg-white group-hover:shadow-md">
                    <i class="fa-solid fa-magnifying-glass absolute left-4 lg:left-5 top-1/2 -translate-y-1/2 text-gray-400 group-hover:text-osr-gold transition-colors"></i>
                </div>
            </div>

            <!-- Menu Grid -->
            <div id="menu-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-12 reveal" style="transition-delay: 200ms;">
                <!-- Items injected by JS -->
            </div>
        </div>
    </section>

    <!-- Reservation Section -->
    <section id="booking" class="py-16 md:py-24 relative bg-fixed bg-cover bg-center" style="background-image: url('https://images.unsplash.com/photo-1552566626-52f8b828add9?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80');">
        <div class="absolute inset-0 bg-osr-black/60 backdrop-blur-[2px]"></div>
        <div class="container mx-auto px-6 relative z-10">
            <div class="glass max-w-5xl mx-auto rounded-3xl overflow-hidden shadow-2xl flex flex-col md:flex-row reveal">
                <!-- Info Side -->
                <div class="md:w-5/12 bg-osr-maroon/95 p-8 lg:p-12 text-center flex flex-col justify-center items-center text-white relative overflow-hidden">
                     <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/black-scales.png')] opacity-20"></div>
                    <span class="text-osr-gold tracking-[0.2em] uppercase text-xs font-bold mb-4 relative z-10">Reservations</span>
                    <h3 class="font-heading text-3xl lg:text-4xl font-bold mb-6 relative z-10">Book A Table</h3>
                    <p class="text-white/70 text-sm mb-8 lg:mb-10 leading-relaxed relative z-10">
                        Secure your spot for an evening of elegance. <br>We recommend booking 24 hours in advance for weekends.
                    </p>
                    <div class="w-16 h-16 lg:w-20 lg:h-20 border border-osr-gold/50 rounded-full flex items-center justify-center mb-6 relative z-10">
                        <i class="fa-solid fa-phone-volume text-2xl lg:text-3xl text-osr-gold animate-pulse"></i>
                    </div>
                    <p class="font-heading text-xl lg:text-2xl text-white relative z-10">+91 98765 43210</p>
                </div>
                
                <!-- Form Side -->
                <div class="md:w-7/12 p-8 lg:p-12 bg-white/95">
                    <form id="booking-form" onsubmit="handleBooking(event)">
                        <div class="grid grid-cols-1 gap-6 mb-6">
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                                <div class="relative">
                                    <input type="text" required class="peer w-full border-b border-gray-300 py-3 focus:border-osr-maroon outline-none bg-transparent placeholder-transparent text-gray-800" id="b-name" placeholder="Name">
                                    <label for="b-name" class="absolute left-0 -top-3.5 text-xs text-gray-500 transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-3 peer-focus:-top-3.5 peer-focus:text-osr-maroon peer-focus:text-xs font-medium uppercase tracking-wide">Name</label>
                                </div>
                                <div class="relative">
                                    <input type="tel" required pattern="[0-9]{10}" class="peer w-full border-b border-gray-300 py-3 focus:border-osr-maroon outline-none bg-transparent placeholder-transparent text-gray-800" id="b-phone" placeholder="Phone">
                                    <label for="b-phone" class="absolute left-0 -top-3.5 text-xs text-gray-500 transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-3 peer-focus:-top-3.5 peer-focus:text-osr-maroon peer-focus:text-xs font-medium uppercase tracking-wide">Phone</label>
                                </div>
                            </div>
                            
                            <div class="grid grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-xs font-bold text-gray-500 uppercase mb-2">Date</label>
                                    <input type="date" required id="booking-date" class="w-full border border-gray-200 rounded-lg p-3 focus:border-osr-maroon outline-none bg-gray-50 text-gray-600 text-sm">
                                </div>
                                <div>
                                    <label class="block text-xs font-bold text-gray-500 uppercase mb-2">Guests</label>
                                    <select class="w-full border border-gray-200 rounded-lg p-3 focus:border-osr-maroon outline-none bg-gray-50 text-gray-600 text-sm">
                                        <option>2 Guests</option>
                                        <option>3 Guests</option>
                                        <option>4 Guests</option>
                                        <option>5+ Guests</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-xs font-bold text-gray-500 uppercase mb-3">Select Time</label>
                                <div class="flex flex-wrap gap-2">
                                    <button type="button" class="time-slot px-4 py-2 text-xs border border-gray-200 rounded-full text-gray-600 hover:border-osr-maroon hover:text-osr-maroon transition-all" onclick="selectTime(this)">12:00 PM</button>
                                    <button type="button" class="time-slot px-4 py-2 text-xs border border-gray-200 rounded-full text-gray-600 hover:border-osr-maroon hover:text-osr-maroon transition-all" onclick="selectTime(this)">01:00 PM</button>
                                    <button type="button" class="time-slot px-4 py-2 text-xs border border-gray-200 rounded-full text-gray-600 hover:border-osr-maroon hover:text-osr-maroon transition-all" onclick="selectTime(this)">07:00 PM</button>
                                    <button type="button" class="time-slot px-4 py-2 text-xs border border-gray-200 rounded-full text-gray-600 hover:border-osr-maroon hover:text-osr-maroon transition-all" onclick="selectTime(this)">08:00 PM</button>
                                    <button type="button" class="time-slot px-4 py-2 text-xs border border-gray-200 rounded-full text-gray-600 hover:border-osr-maroon hover:text-osr-maroon transition-all" onclick="selectTime(this)">09:00 PM</button>
                                </div>
                                <input type="hidden" id="selected-time" required>
                            </div>
                        </div>
                        <button type="submit" class="w-full btn-gold py-4 rounded-xl font-bold uppercase tracking-widest mt-4 shadow-lg text-sm">Confirm Reservation</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Gallery Section -->
    <section id="gallery" class="py-16 md:py-24 bg-osr-cream">
        <div class="container mx-auto px-6">
            <div class="flex flex-col md:flex-row justify-between items-end mb-12 reveal">
                <div>
                    <span class="text-osr-gold font-bold uppercase tracking-[0.2em] text-xs">Visual Feast</span>
                    <h2 class="font-heading text-4xl font-bold text-osr-maroon mt-2">Our Gallery</h2>
                </div>
                <p class="text-gray-500 mt-4 md:mt-0 text-sm max-w-sm">Explore the ambiance and the art of plating that makes OSR unique.</p>
            </div>
            
            <div class="grid grid-cols-2 md:grid-cols-4 gap-3 lg:gap-4 auto-rows-[150px] lg:auto-rows-[200px] reveal" style="transition-delay: 200ms;">
                <div class="row-span-2 col-span-2 relative group overflow-hidden rounded-2xl cursor-pointer shadow-lg" onclick="openLightbox(this)">
                    <img src="https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=800" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" alt="Dish 1">
                    <div class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                        <div class="w-12 h-12 rounded-full bg-white/20 backdrop-blur-md flex items-center justify-center text-white">
                            <i class="fa-solid fa-plus text-xl"></i>
                        </div>
                    </div>
                </div>
                <div class="relative group overflow-hidden rounded-2xl cursor-pointer shadow-lg" onclick="openLightbox(this)">
                    <img src="https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=800" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" alt="Dish 2">
                </div>
                <div class="relative group overflow-hidden rounded-2xl cursor-pointer shadow-lg" onclick="openLightbox(this)">
                    <img src="https://images.unsplash.com/photo-1589302168068-964664d93dc0?w=800" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" alt="Dish 3">
                </div>
                <div class="col-span-2 relative group overflow-hidden rounded-2xl cursor-pointer shadow-lg" onclick="openLightbox(this)">
                    <img src="https://images.unsplash.com/photo-1544148103-0773bf10d330?w=800" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" alt="Interior">
                </div>
            </div>
        </div>
    </section>

    <!-- Reviews Section -->
    <section id="reviews" class="py-16 md:py-24 bg-white relative">
        <div class="container mx-auto px-6">
            <div class="text-center mb-12 lg:mb-16 reveal">
                <h2 class="font-heading text-4xl font-bold text-osr-maroon mb-4">Guest Love</h2>
                <div class="flex justify-center text-osr-gold gap-1 text-lg">
                    <i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-16" id="reviews-container">
                <!-- Reviews injected here -->
            </div>

            <div class="max-w-2xl mx-auto glass p-6 lg:p-8 rounded-2xl shadow-soft reveal">
                <h4 class="font-heading font-bold text-2xl mb-6 text-center text-osr-maroon">Share Your Experience</h4>
                <form onsubmit="addReview(event)" class="space-y-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                         <input type="text" id="review-name" required placeholder="Your Name" class="w-full p-3 bg-white border border-gray-200 rounded-lg focus:border-osr-gold outline-none text-sm">
                         <div class="relative">
                            <select id="review-rating" class="w-full p-3 bg-white border border-gray-200 rounded-lg focus:border-osr-gold outline-none text-sm appearance-none cursor-pointer">
                                <option value="5">⭐⭐⭐⭐⭐ (Excellent)</option>
                                <option value="4">⭐⭐⭐⭐ (Good)</option>
                                <option value="3">⭐⭐⭐ (Average)</option>
                            </select>
                            <i class="fa-solid fa-chevron-down absolute right-3 top-1/2 -translate-y-1/2 text-xs text-gray-400"></i>
                        </div>
                    </div>
                    <textarea id="review-text" required placeholder="How was the food and service?" class="w-full p-3 bg-white border border-gray-200 rounded-lg focus:border-osr-gold outline-none text-sm h-24 resize-none"></textarea>
                    
                    <button type="submit" class="w-full bg-osr-gray text-white py-3 rounded-lg text-sm font-bold uppercase tracking-wider hover:bg-osr-black transition-colors">Submit Review</button>
                </form>
            </div>
        </div>
    </section>

    <!-- Contact & Footer -->
    <footer id="contact" class="bg-osr-black text-white pt-16 md:pt-24 pb-10 rounded-t-[2rem] md:rounded-t-[3rem] relative overflow-hidden mt-10">
        <!-- Footer pattern -->
        <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-10"></div>
        
        <div class="container mx-auto px-6 relative z-10">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 md:gap-12 mb-12">
                <div class="md:col-span-1">
                    <div class="flex items-center gap-3 mb-6">
                         <div class="w-10 h-10 border-2 border-osr-gold rounded-full flex items-center justify-center">
                            <span class="font-heading font-bold text-osr-gold text-xs">OSR</span>
                        </div>
                        <h3 class="font-heading text-2xl text-white">Om Sai <br>Ki Rasoi</h3>
                    </div>
                    <p class="text-gray-400 text-sm leading-relaxed mb-8">
                        Experience the gold standard of dining. <br>Authentic flavors, Luxury ambiance.
                    </p>
                    <div class="flex gap-4">
                        <a href="#" class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-osr-gold hover:text-osr-maroon transition-all"><i class="fa-brands fa-facebook-f text-sm"></i></a>
                        <a href="#" class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-osr-gold hover:text-osr-maroon transition-all"><i class="fa-brands fa-instagram text-sm"></i></a>
                        <a href="#" class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-osr-gold hover:text-osr-maroon transition-all"><i class="fa-brands fa-twitter text-sm"></i></a>
                    </div>
                </div>

                <div>
                    <h3 class="font-heading text-lg text-osr-gold mb-6">Explore</h3>
                    <ul class="space-y-4 text-sm text-gray-400">
                        <li><a href="#about" class="hover:text-white transition-colors flex items-center gap-2"><span class="w-1 h-1 bg-osr-gold rounded-full"></span> About Us</a></li>
                        <li><a href="#menu" class="hover:text-white transition-colors flex items-center gap-2"><span class="w-1 h-1 bg-osr-gold rounded-full"></span> Online Order</a></li>
                        <li><a href="#booking" class="hover:text-white transition-colors flex items-center gap-2"><span class="w-1 h-1 bg-osr-gold rounded-full"></span> Reservations</a></li>
                        <li><a href="#gallery" class="hover:text-white transition-colors flex items-center gap-2"><span class="w-1 h-1 bg-osr-gold rounded-full"></span> Gallery</a></li>
                    </ul>
                </div>

                <div>
                    <h3 class="font-heading text-lg text-osr-gold mb-6">Contact</h3>
                    <ul class="space-y-4 text-sm text-gray-400">
                        <li class="flex gap-3 items-start">
                            <i class="fa-solid fa-location-dot mt-1 text-osr-gold"></i>
                            <span>Shop No 12, Golden Plaza,<br>Sector 18, Noida, UP, 201301</span>
                        </li>
                        <li class="flex gap-3 items-center">
                            <i class="fa-solid fa-phone text-osr-gold"></i>
                            <span>+91 98765 43210</span>
                        </li>
                        <li class="flex gap-3 items-center">
                            <i class="fa-solid fa-envelope text-osr-gold"></i>
                            <span>contact@omsaikirasoi.com</span>
                        </li>
                    </ul>
                </div>
                
                 <div>
                    <h3 class="font-heading text-lg text-osr-gold mb-6">Opening Hours</h3>
                    <ul class="space-y-3 text-sm text-gray-400">
                        <li class="flex justify-between">
                            <span>Mon - Fri</span>
                            <span>11:00 AM - 11:00 PM</span>
                        </li>
                         <li class="flex justify-between text-white font-medium">
                            <span>Sat - Sun</span>
                            <span>10:00 AM - 11:30 PM</span>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="border-t border-white/10 pt-8 flex flex-col md:flex-row justify-between items-center gap-4">
                <p class="text-xs text-gray-500">© 2024 Om Sai Ki Rasoi. All Rights Reserved.</p>
                <div class="flex gap-6 text-xs text-gray-500">
                    <a href="#" class="hover:text-white">Privacy Policy</a>
                    <a href="#" class="hover:text-white">Terms of Service</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Floating Buttons -->
    <a href="https://wa.me/919876543210" target="_blank" class="fixed bottom-24 right-4 lg:right-6 bg-[#25D366] text-white w-12 h-12 lg:w-14 lg:h-14 rounded-full flex items-center justify-center shadow-lg z-40 hover:scale-110 transition-transform hover:shadow-glow">
        <i class="fa-brands fa-whatsapp text-2xl lg:text-3xl"></i>
    </a>
    <button onclick="window.scrollTo(0,0)" class="fixed bottom-8 right-4 lg:right-6 bg-osr-maroon text-osr-gold border border-osr-gold/30 w-10 h-10 lg:w-12 lg:h-12 rounded-full flex items-center justify-center shadow-lg z-40 hover:-translate-y-2 transition-transform glass">
        <i class="fa-solid fa-arrow-up text-sm lg:text-base"></i>
    </button>

    <!-- Modals -->
    <!-- Lightbox -->
    <div id="lightbox" class="fixed inset-0 bg-black/95 z-[100] hidden flex items-center justify-center p-4 backdrop-blur-sm" onclick="closeLightbox()">
        <div class="relative max-w-4xl w-full">
            <img id="lightbox-img" src="" class="w-full max-h-[90vh] object-contain rounded-lg shadow-2xl">
            <button class="absolute -top-12 right-0 text-white text-3xl hover:text-osr-gold transition-colors"><i class="fa-solid fa-xmark"></i></button>
        </div>
    </div>

    <!-- Festival Popup -->
    <div id="offer-popup" class="fixed inset-0 bg-black/80 z-[80] hidden flex items-center justify-center p-4 backdrop-blur-md transition-all duration-500">
        <div class="bg-osr-cream rounded-2xl p-2 max-w-md w-full relative animate-[bounceIn_0.8s_ease]">
            <button onclick="closeOffer()" class="absolute -top-4 -right-4 bg-osr-black text-white rounded-full w-10 h-10 flex items-center justify-center shadow-lg z-10 hover:rotate-90 transition-transform"><i class="fa-solid fa-xmark"></i></button>
            <div class="border border-osr-gold border-dashed p-8 text-center rounded-xl bg-white relative overflow-hidden">
                <div class="absolute -right-10 -top-10 w-32 h-32 bg-osr-gold/10 rounded-full blur-2xl"></div>
                <div class="absolute -left-10 -bottom-10 w-32 h-32 bg-osr-maroon/10 rounded-full blur-2xl"></div>
                
                <span class="text-[10px] font-bold bg-osr-maroon text-white px-3 py-1 rounded-full uppercase tracking-widest">Limited Offer</span>
                <h3 class="font-heading text-3xl font-bold text-osr-maroon mt-6">Diwali Feast</h3>
                <div class="my-4 relative">
                    <p class="text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-osr-gold to-yellow-600">20%</p>
                    <p class="text-xl font-heading text-osr-black">OFF</p>
                </div>
                <p class="text-gray-500 text-sm mb-6 leading-relaxed">Celebrate with family! Get flat 20% off on all dinner bookings above ₹1500.</p>
                <button onclick="closeOffer(); window.location.href='#booking'" class="w-full btn-gold py-3 rounded-lg text-sm font-bold shadow-lg uppercase tracking-wider">Book My Table</button>
            </div>
        </div>
    </div>

    <!-- 3D Booklet Modal -->
    <div id="booklet-modal" class="fixed inset-0 bg-black/90 z-[90] hidden flex items-center justify-center p-2 lg:p-4 backdrop-blur-md">
        <button onclick="closeBooklet()" class="absolute top-4 right-4 text-white text-3xl hover:text-osr-gold transition-colors z-[95]"><i class="fa-solid fa-xmark"></i></button>
        
        <div class="book-scene w-full max-w-5xl aspect-[3/4] md:aspect-[2/1] relative transition-all">
            <div class="book" id="menu-book">
                <!-- Binding -->
                <div class="book-binding hidden md:block"></div>
                <!-- Sheets will be injected here -->
            </div>

            <!-- Navigation Controls -->
            <button onclick="prevPage()" class="absolute left-2 top-1/2 -translate-y-1/2 w-10 h-10 lg:w-12 lg:h-12 bg-white/10 hover:bg-osr-gold hover:text-osr-black text-white rounded-full flex items-center justify-center backdrop-blur-md transition-all z-[100] border border-white/20 disabled:opacity-30 disabled:cursor-not-allowed" id="btn-prev-page">
                <i class="fa-solid fa-chevron-left"></i>
            </button>
            <button onclick="nextPage()" class="absolute right-2 top-1/2 -translate-y-1/2 w-10 h-10 lg:w-12 lg:h-12 bg-white/10 hover:bg-osr-gold hover:text-osr-black text-white rounded-full flex items-center justify-center backdrop-blur-md transition-all z-[100] border border-white/20 disabled:opacity-30 disabled:cursor-not-allowed" id="btn-next-page">
                <i class="fa-solid fa-chevron-right"></i>
            </button>
        </div>
    </div>

    <script>
        // --- Data ---
        // Enhanced Menu Items with Variants
        const menuItems = [
            { 
                id: 1, 
                name: "Paneer Butter Masala", 
                price: 320, 
                category: "veg", 
                image: "https://images.unsplash.com/photo-1631452180519-c014fe946bc7?w=600", 
                desc: "Cottage cheese cubes simmered in a rich, creamy tomato gravy.", 
                type: "veg", 
                rating: 4.8, 
                tag: "Bestseller",
                variants: { quarter: 180, half: 320, full: 550 }
            },
            { 
                id: 2, 
                name: "Chicken Biryani", 
                price: 450, 
                category: "biryani", 
                image: "https://images.unsplash.com/photo-1563379091339-03b21ab4a4f8?w=600", 
                desc: "Aromatic basmati rice layered with spiced chicken and saffron.", 
                type: "nonveg", 
                rating: 4.9, 
                tag: "Chef's Pick",
                variants: { quarter: 240, half: 450, full: 800 }
            },
            { 
                id: 3, 
                name: "Dal Makhani", 
                price: 280, 
                category: "veg", 
                image: "https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=600", 
                desc: "Slow cooked black lentils with fresh cream and butter.", 
                type: "veg", 
                rating: 4.7,
                variants: { quarter: 160, half: 280, full: 500 }
            },
            { 
                id: 4, 
                name: "Hakka Noodles", 
                price: 220, 
                category: "chinese", 
                image: "https://images.unsplash.com/photo-1585032226651-759b368d7246?w=600", 
                desc: "Wok-tossed noodles with crunchy fresh vegetables.", 
                type: "veg", 
                rating: 4.5,
                variants: { half: 220, full: 380 } // Some items may only have Half/Full
            },
            { 
                id: 5, 
                name: "Butter Chicken", 
                price: 480, 
                category: "nonveg", 
                image: "https://images.unsplash.com/photo-1603894584373-5ac82b2ae398?w=600", 
                desc: "Classic tandoori chicken in a velvety tomato butter sauce.", 
                type: "nonveg", 
                rating: 5.0, 
                tag: "Must Try",
                variants: { quarter: 260, half: 480, full: 850 }
            },
            { 
                id: 6, 
                name: "Gulab Jamun", 
                price: 120, 
                category: "dessert", 
                image: "https://images.unsplash.com/photo-1593701478446-43e02686e6fd?w=600", 
                desc: "Soft khoya dumplings soaked in rose-scented sugar syrup.", 
                type: "veg", 
                rating: 4.8,
                variants: { half: 120, full: 220 } // per plate
            },
            { 
                id: 7, 
                name: "Veg Biryani", 
                price: 350, 
                category: "biryani", 
                image: "https://images.unsplash.com/photo-1642821373181-696a54913e93?w=600", 
                desc: "Flavorful rice cooked with garden fresh mixed vegetables.", 
                type: "veg", 
                rating: 4.6,
                variants: { quarter: 190, half: 350, full: 600 }
            },
            { 
                id: 8, 
                name: "Chilli Chicken", 
                price: 380, 
                category: "chinese", 
                image: "https://images.unsplash.com/photo-1525755662778-989d0524087e?w=600", 
                desc: "Spicy crispy chicken chunks tossed with peppers and onions.", 
                type: "nonveg", 
                rating: 4.7,
                variants: { half: 380, full: 650 }
            },
             { 
                id: 9, 
                name: "Rasmalai", 
                price: 150, 
                category: "dessert", 
                image: "https://images.unsplash.com/photo-1563148560-f1c5c7d01859?w=600", 
                desc: "Soft cheese patties immersed in chilled sweet saffron milk.", 
                type: "veg", 
                rating: 4.9, 
                tag: "Sweet Tooth",
                variants: { half: 150, full: 280 }
            },
        ];

        const initialReviews = [
            { name: "Rahul Sharma", text: "The Butter Chicken here is absolutely divine. The ambiance feels royal. Best luxury dining in Noida!", rating: 5 },
            { name: "Priya Singh", text: "Lovely ambiance and great service. The staff is very polite. Highly recommend the Dal Makhani.", rating: 4 },
            { name: "Amit Verma", text: "Ordered for a family function. Packaging was premium and food was hot. A truly 5-star experience.", rating: 5 }
        ];

        // --- Carousel Data ---
        const heroSlides = [
            {
                image: "https://images.unsplash.com/photo-1514362545857-3bc16549766b?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80",
                title: "Om Sai <br><span class='text-transparent bg-clip-text bg-gradient-to-r from-osr-gold via-yellow-200 to-osr-gold'>Ki Rasoi</span>",
                subtitle: "Where royal tradition meets modern culinary art. Experience the finest Indian and Global cuisines in a luxurious setting."
            },
            {
                image: "https://images.unsplash.com/photo-1559339352-11d035aa65de?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80",
                title: "Exquisite <br><span class='text-transparent bg-clip-text bg-gradient-to-r from-osr-gold via-yellow-200 to-osr-gold'>Flavors</span>",
                subtitle: "Savor the authenticity of premium spices and farm-fresh ingredients crafted by our master chefs."
            },
            {
                image: "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80",
                title: "Celebrate <br><span class='text-transparent bg-clip-text bg-gradient-to-r from-osr-gold via-yellow-200 to-osr-gold'>Life</span>",
                subtitle: "The perfect ambiance for your special moments. Create memories with fine dining and exceptional service."
            }
        ];

        // --- State ---
        let cart = JSON.parse(localStorage.getItem('osr_cart')) || [];
        let reviews = JSON.parse(localStorage.getItem('osr_reviews')) || initialReviews;
        let currentSlide = 0;
        let slideInterval;
        let isPaused = false; // Track hover state
        
        // Booklet State
        let currentBookSheet = 0;
        let bookSheets = [];

        // Swipe Handling
        let touchStartX = 0;
        let touchEndX = 0;

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            renderMenu('all');
            updateCartUI();
            renderReviews();
            setupScrollReveal();
            initCarousel();
            initBookContent(); // Prepare booklet content
            
            // Show Offer Popup after 3 seconds
            setTimeout(() => {
                if(!sessionStorage.getItem('offerShown')) {
                    document.getElementById('offer-popup').classList.remove('hidden');
                    sessionStorage.setItem('offerShown', 'true');
                }
            }, 3000);

            // Set Date Input min to today
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('booking-date').setAttribute('min', today);
        });

        // --- Animations ---
        function setupScrollReveal() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('active');
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
        }

        // --- Carousel Logic ---
        function initCarousel() {
            const container = document.getElementById('carousel-slides');
            const dotsContainer = document.getElementById('carousel-dots');
            const heroSection = document.getElementById('home');
            
            heroSlides.forEach((slide, index) => {
                // Create Slide
                const slideDiv = document.createElement('div');
                slideDiv.className = `carousel-slide ${index === 0 ? 'active' : ''}`;
                slideDiv.innerHTML = `
                    <img src="${slide.image}" class="w-full h-full object-cover animate-zoom-slow" alt="Slide ${index + 1}">
                    <div class="absolute inset-0 flex items-center justify-center text-center z-20 pt-20">
                        <div class="max-w-5xl px-6 slide-content">
                             <div class="mb-4 lg:mb-6 inline-flex flex-col items-center gap-2">
                                <span class="w-[1px] h-8 lg:h-12 bg-osr-gold mb-1 lg:mb-2"></span>
                                <span class="text-osr-gold tracking-[0.5em] uppercase text-[10px] lg:text-xs font-bold">Est. 2015</span>
                            </div>
                            <h1 class="font-heading text-4xl md:text-5xl lg:text-9xl text-white font-bold mb-4 lg:mb-6 leading-none shadow-black drop-shadow-lg">
                                ${slide.title}
                            </h1>
                            <p class="text-white/90 text-sm md:text-lg lg:text-xl mb-8 lg:mb-12 font-light tracking-wide max-w-2xl mx-auto leading-relaxed drop-shadow-md">
                                ${slide.subtitle}
                            </p>
                            <div class="flex flex-col sm:flex-row gap-4 lg:gap-6 justify-center">
                                <a href="#menu" class="btn-gold px-8 lg:px-10 py-3 lg:py-4 rounded-full font-bold tracking-widest uppercase text-xs lg:text-sm shadow-glow">Order Online</a>
                                <a href="#booking" class="btn-outline px-8 lg:px-10 py-3 lg:py-4 rounded-full font-bold tracking-widest uppercase text-xs lg:text-sm backdrop-blur-sm">Book a Table</a>
                            </div>
                        </div>
                    </div>
                `;
                container.appendChild(slideDiv);

                // Create Dot
                const dot = document.createElement('button');
                dot.className = `w-3 h-3 rounded-full transition-all duration-300 ${index === 0 ? 'bg-osr-gold w-8' : 'bg-white/50 hover:bg-white'}`;
                dot.onclick = () => goToSlide(index);
                dotsContainer.appendChild(dot);
            });

            // Pause on hover event listeners
            heroSection.addEventListener('mouseenter', () => {
                isPaused = true;
                clearInterval(slideInterval);
            });
            heroSection.addEventListener('mouseleave', () => {
                isPaused = false;
                startSlideTimer();
            });

            // Touch Handling
            heroSection.addEventListener('touchstart', e => {
                touchStartX = e.changedTouches[0].screenX;
            });
            heroSection.addEventListener('touchend', e => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            });

            startSlideTimer();
        }

        function handleSwipe() {
            if (touchEndX < touchStartX - 50) nextSlide();
            if (touchEndX > touchStartX + 50) prevSlide();
        }

        function updateCarouselUI() {
            const slides = document.querySelectorAll('.carousel-slide');
            const dots = document.getElementById('carousel-dots').children;

            slides.forEach((slide, index) => {
                if (index === currentSlide) {
                    slide.classList.add('active');
                } else {
                    slide.classList.remove('active');
                }
            });

            Array.from(dots).forEach((dot, index) => {
                if (index === currentSlide) {
                    dot.className = 'w-8 h-3 rounded-full transition-all duration-300 bg-osr-gold';
                } else {
                    dot.className = 'w-3 h-3 rounded-full transition-all duration-300 bg-white/50 hover:bg-white';
                }
            });
        }

        function nextSlide() {
            currentSlide = (currentSlide + 1) % heroSlides.length;
            updateCarouselUI();
            resetSlideTimer();
        }

        function prevSlide() {
            currentSlide = (currentSlide - 1 + heroSlides.length) % heroSlides.length;
            updateCarouselUI();
            resetSlideTimer();
        }

        function goToSlide(index) {
            currentSlide = index;
            updateCarouselUI();
            resetSlideTimer();
        }

        function startSlideTimer() {
            if (slideInterval) clearInterval(slideInterval);
            slideInterval = setInterval(nextSlide, 5000); // 5 seconds per slide
        }

        function resetSlideTimer() {
            clearInterval(slideInterval);
            if (!isPaused) {
                startSlideTimer();
            }
        }

        // --- Booklet Logic (3D Page Flip) ---
        function initBookContent() {
            // Flatten pages logic
            const categories = ['veg', 'nonveg', 'chinese', 'biryani', 'dessert'];
            let pages = [];
            
            // Cover Page (Page 0)
            pages.push(`
                <div class="flex flex-col items-center justify-center h-full text-center border-4 border-double border-osr-maroon p-6 rounded-lg">
                    <div class="w-16 h-16 lg:w-20 lg:h-20 border-2 border-osr-gold rounded-full flex items-center justify-center mb-6">
                        <span class="font-heading font-bold text-osr-gold text-2xl">OSR</span>
                    </div>
                    <h2 class="font-heading text-3xl lg:text-4xl font-bold text-osr-maroon mb-2">Om Sai Ki Rasoi</h2>
                    <div class="w-16 h-1 bg-osr-gold mb-6"></div>
                    <p class="font-heading italic text-lg lg:text-xl text-gray-600">The Royal Menu</p>
                    <p class="text-[10px] lg:text-xs text-gray-400 mt-auto uppercase tracking-widest">Est. 2015</p>
                </div>
            `);

            // Category Pages
            categories.forEach(cat => {
                const items = menuItems.filter(item => {
                    if (cat === 'veg') return item.category === 'veg' && item.type === 'veg';
                    if (cat === 'nonveg') return item.type === 'nonveg' && item.category !== 'chinese' && item.category !== 'biryani';
                    return item.category === cat;
                });

                if (items.length > 0) {
                    let pageContent = `
                        <h3 class="font-heading text-xl lg:text-2xl font-bold text-osr-maroon mb-4 lg:mb-6 border-b border-osr-gold/30 pb-2 uppercase tracking-wide">${cat === 'nonveg' ? 'Main Course' : cat}</h3>
                        <div class="space-y-4 lg:space-y-6">
                    `;
                    
                    items.forEach(item => {
                        let variantsHTML = '';
                        if (item.variants) {
                            variantsHTML = `<div class="flex gap-2 mt-2 flex-wrap">`;
                            for (const [key, price] of Object.entries(item.variants)) {
                                variantsHTML += `
                                    <button onclick="addVariantToCart(${item.id}, '${key}', ${price})" class="text-[10px] uppercase font-bold px-2 lg:px-3 py-1 border border-osr-gold/50 rounded-full hover:bg-osr-maroon hover:text-white transition-colors text-gray-600">
                                        ${key.charAt(0).toUpperCase() + key.slice(1)}: ₹${price}
                                    </button>
                                `;
                            }
                            variantsHTML += `</div>`;
                        } else {
                             variantsHTML = `<button onclick="addToCart(${item.id})" class="text-[10px] uppercase font-bold px-3 py-1 border border-osr-gold/50 rounded-full hover:bg-osr-maroon hover:text-white transition-colors text-gray-600 mt-2">Standard: ₹${item.price}</button>`;
                        }

                        pageContent += `
                            <div class="relative group">
                                <div class="flex justify-between items-baseline border-b border-dashed border-gray-300 pb-1 mb-1">
                                    <h4 class="font-bold text-osr-black text-xs lg:text-sm uppercase">${item.name}</h4>
                                </div>
                                <p class="text-[10px] lg:text-xs text-gray-500 italic mb-1">${item.desc}</p>
                                ${variantsHTML}
                            </div>
                        `;
                    });

                    pageContent += `</div>`;
                    pages.push(pageContent);
                }
            });
            
             // Back Cover
            pages.push(`
                <div class="flex flex-col items-center justify-center h-full text-center border-4 border-double border-osr-maroon p-6 rounded-lg bg-osr-maroon text-white">
                    <i class="fa-solid fa-wine-glass text-4xl text-osr-gold mb-4"></i>
                    <h3 class="font-heading text-2xl font-bold mb-4">Thank You</h3>
                    <p class="text-sm opacity-80 mb-8">We look forward to serving you.</p>
                    <div class="text-xs space-y-2 opacity-60">
                        <p>For Reservations:</p>
                        <p class="font-bold text-osr-gold">+91 98765 43210</p>
                        <p>www.omsaikirasoi.com</p>
                    </div>
                </div>
            `);

            // Convert Pages to Sheets (Pairs of Front/Back)
            bookSheets = [];
            // Assuming even number of pages ideally, but handle odd
            // Sheet 0: Front=Page 0 (Cover), Back=Page 1
            // Sheet 1: Front=Page 2, Back=Page 3
            for (let i = 0; i < pages.length; i += 2) {
                bookSheets.push({
                    front: pages[i],
                    back: pages[i+1] || `<div class="h-full flex items-center justify-center text-gray-300 italic">End of Menu</div>`
                });
            }
        }

        function openBooklet() {
            document.getElementById('booklet-modal').classList.remove('hidden');
            renderBooklet3D();
            document.body.style.overflow = 'hidden';
        }

        function closeBooklet() {
            document.getElementById('booklet-modal').classList.add('hidden');
            document.body.style.overflow = '';
        }

        function renderBooklet3D() {
            const bookContainer = document.getElementById('menu-book');
            // Binding is separate, keep it
            const bindingHTML = `<div class="book-binding hidden md:block"></div>`;
            
            let sheetsHTML = '';
            // Z-Index logic: 
            // Unflipped sheets: Top sheet is highest index (e.g. 10, 9, 8...)
            // Flipped sheets: Top flipped sheet is highest index (e.g. 1, 2, 3...)
            // Actually, for stack:
            // Right stack (not flipped): i=0 is top. z-index = total - i.
            // Left stack (flipped): i=0 is bottom. z-index = i.
            
            bookSheets.forEach((sheet, index) => {
                // Determine initial z-index based on state (all closed initially)
                // Right stack order
                const zIndex = bookSheets.length - index;
                
                sheetsHTML += `
                    <div class="sheet" id="sheet-${index}" style="z-index: ${zIndex};" onclick="toggleFlip(${index})">
                        <div class="page-face front">${sheet.front}</div>
                        <div class="page-face back">${sheet.back}</div>
                    </div>
                `;
            });

            bookContainer.innerHTML = bindingHTML + sheetsHTML;
            
            // Set initial state
            currentBookSheet = 0; 
            updateButtons();
        }

        function toggleFlip(index) {
            // Determine direction based on current state of this sheet
            const sheet = document.getElementById(`sheet-${index}`);
            if (sheet.classList.contains('flipped')) {
                // It is currently on the left, flip back to right (Prev)
                // We should flip this sheet back.
                // Logic: if we click a left page, we want to go back.
                // But clicking a specific sheet might be tricky if they overlap.
                // Just use the buttons for navigation for simplicity and robustness.
                // However, clicking the left page usually means "Previous".
                // If sheet-index is the top-most flipped sheet, flip it back.
                // Top-most flipped sheet is the one with highest index among flipped ones.
                // If index == currentBookSheet - 1 (since current is next to flip)
            } else {
                // It is on right, flip to left (Next)
            }
        }

        function nextPage() {
            if (currentBookSheet < bookSheets.length) {
                const sheet = document.getElementById(`sheet-${currentBookSheet}`);
                sheet.classList.add('flipped');
                // Update z-index for flipped state: higher index = on top of left stack
                sheet.style.zIndex = currentBookSheet; 
                currentBookSheet++;
                updateButtons();
            }
        }

        function prevPage() {
            if (currentBookSheet > 0) {
                currentBookSheet--;
                const sheet = document.getElementById(`sheet-${currentBookSheet}`);
                sheet.classList.remove('flipped');
                // Reset z-index for right stack: higher index = on top
                // Wait, slight delay to prevent z-index jumping before animation?
                // Actually CSS transition handles the flip. Z-index change is instant.
                // For flipping back (Left to Right), the sheet being flipped back (currentBookSheet)
                // should be on TOP of the right stack immediately so it is visible during flip.
                // Right stack top is index 0? No, index 0 is bottom of right stack?
                // Let's re-verify z-index logic.
                // Initial: S0(z3), S1(z2), S2(z1). All Right.
                // Flip S0: S0(z0) Left. S1(z2), S2(z1) Right. 
                // S1 is visible on right. S0 is visible on left (if z0 is fine? No, S0 should be on bottom of left stack if S1 flips later).
                // Flip S1: S1(z1) Left. S2(z1) Right.
                // Left stack: S0(z0), S1(z1). S1 is on top of S0. Correct.
                
                // Flip Back S1: S1 goes Right. S1 needs to be on TOP of S2(z1).
                // S1 New Z should be (Total - 1) = 2.
                // So updating Z-index to (Total - Index) works for right stack.
                setTimeout(() => {
                     sheet.style.zIndex = bookSheets.length - currentBookSheet;
                }, 600); // Halfway through transition? Or immediately?
                // If immediately: S1 becomes z2. S2 is z1. S1 covers S2. Correct.
                // Does it cover S0(z0)? Yes.
                // So immediate update is fine.
                sheet.style.zIndex = bookSheets.length - currentBookSheet;
                
                updateButtons();
            }
        }
        
        function updateButtons() {
            const btnPrev = document.getElementById('btn-prev-page');
            const btnNext = document.getElementById('btn-next-page');
            
            btnPrev.disabled = currentBookSheet === 0;
            // On mobile, we might want to allow flipping the last sheet to close the book
            // On desktop 2-page spread, flipping last sheet reveals back cover.
            // If currentBookSheet == total, we are at end.
            btnNext.disabled = currentBookSheet === bookSheets.length;
        }
        
        function addVariantToCart(id, variantName, price) {
            const item = menuItems.find(i => i.id === id);
            // Unique ID for variant
            const variantId = `${id}-${variantName}`;
            
            const existing = cart.find(i => i.variantId === variantId);
            
            if(existing) {
                existing.qty++;
            } else {
                cart.push({
                    id: item.id,
                    variantId: variantId,
                    name: `${item.name} (${variantName})`,
                    price: price,
                    type: item.type,
                    qty: 1
                });
            }
            
            saveCart();
            updateCartUI();
            
            alert(`Added ${item.name} (${variantName}) to cart!`);
        }

        // --- Menu Logic ---
        function renderMenu(category, searchTerm = '') {
            const grid = document.getElementById('menu-grid');
            grid.innerHTML = '';
            
            const filtered = menuItems.filter(item => {
                const matchesCategory = category === 'all' || item.category === category || (category === 'veg' && item.type === 'veg');
                const matchesSearch = item.name.toLowerCase().includes(searchTerm.toLowerCase());
                return matchesCategory && matchesSearch;
            });

            if (filtered.length === 0) {
                grid.innerHTML = `<div class="col-span-3 text-center py-20 text-gray-400 italic flex flex-col items-center">
                    <i class="fa-solid fa-utensils text-4xl mb-4 opacity-20"></i>
                    <p>No culinary delights found matching your taste.</p>
                </div>`;
                return;
            }

            filtered.forEach(item => {
                const badgeClass = item.type === 'veg' ? 'border-green-600 text-green-600' : 'border-red-600 text-red-600';
                const dotClass = item.type === 'veg' ? 'bg-green-600' : 'bg-red-600';
                
                // Special Badge Logic
                let specialBadge = '';
                if(item.tag) {
                    specialBadge = `<div class="absolute top-4 left-4 bg-osr-gold text-osr-black text-[10px] font-bold px-3 py-1 rounded-full uppercase tracking-wider shadow-md z-10">${item.tag}</div>`;
                }

                // Stars Logic
                let starsHTML = '';
                const fullStars = Math.floor(item.rating);
                for(let i=0; i<5; i++) {
                    if(i < fullStars) starsHTML += '<i class="fa-solid fa-star text-osr-gold text-[10px]"></i>';
                    else if(i === fullStars && item.rating % 1 !== 0) starsHTML += '<i class="fa-solid fa-star-half-stroke text-osr-gold text-[10px]"></i>';
                    else starsHTML += '<i class="fa-regular fa-star text-gray-300 text-[10px]"></i>';
                }

                // Variants display for standard card
                let priceDisplay = `₹${item.price}`;
                if (item.variants) {
                    // Show range or "Starts from"
                    const prices = Object.values(item.variants);
                    const minPrice = Math.min(...prices);
                    priceDisplay = `<span class="text-[10px] font-normal mr-1">from</span> ₹${minPrice}`;
                }

                const card = document.createElement('div');
                card.className = "group relative bg-white rounded-[2rem] shadow-lg hover:shadow-2xl transition-all duration-500 flex flex-col h-full border border-gray-100 hover:border-osr-gold/30 hover:-translate-y-2 overflow-hidden";
                card.innerHTML = `
                    <div class="relative h-64 overflow-hidden">
                        <img src="${item.image}" alt="${item.name}" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-80 transition-opacity duration-300"></div>
                        
                        ${specialBadge}
                        
                        <div class="absolute top-4 right-4 bg-white/90 backdrop-blur-md w-6 h-6 flex items-center justify-center rounded border ${badgeClass} shadow-lg z-10">
                            <div class="w-3 h-3 rounded-full ${dotClass}"></div>
                        </div>

                        <div class="absolute bottom-4 left-6 right-6 translate-y-2 group-hover:translate-y-0 transition-transform duration-500">
                             <div class="flex justify-between items-end">
                                <div>
                                    <h3 class="font-heading font-bold text-lg lg:text-2xl text-white mb-1 drop-shadow-md leading-tight">${item.name}</h3>
                                    <div class="flex items-center gap-2 mb-2">
                                        <div class="flex gap-0.5">${starsHTML}</div>
                                        <span class="text-[10px] text-white/80">(${item.rating})</span>
                                    </div>
                                </div>
                             </div>
                        </div>
                    </div>

                    <div class="p-6 flex flex-col flex-1 relative bg-white">
                        <!-- Price Tag Floating -->
                        <div class="absolute -top-6 right-6 bg-osr-maroon text-osr-gold px-4 py-2 rounded-xl shadow-lg font-bold text-sm border border-osr-gold/20 transform group-hover:scale-110 transition-transform duration-300">
                            ${priceDisplay}
                        </div>

                        <p class="text-sm text-gray-500 mb-6 line-clamp-3 leading-relaxed flex-1 mt-2">${item.desc}</p>
                        
                        <div class="flex items-center gap-4 mt-auto">
                            <button onclick="${item.variants ? 'openBooklet()' : `addToCart(${item.id})`}" class="flex-1 bg-osr-black text-white py-3.5 rounded-xl transition-all duration-300 text-xs font-bold uppercase tracking-widest flex items-center justify-center gap-2 group/btn hover:bg-osr-gold hover:text-osr-black shadow-lg">
                                ${item.variants ? 'View Options' : 'Add to Order'}
                                <span class="w-5 h-5 rounded-full bg-white/20 flex items-center justify-center group-hover/btn:bg-black/10 transition-colors">
                                    <i class="fa-solid fa-plus text-[10px]"></i>
                                </span>
                            </button>
                            <button class="w-12 h-12 rounded-xl border border-gray-200 text-gray-400 flex items-center justify-center hover:border-red-500 hover:text-red-500 hover:bg-red-50 transition-all" title="Add to Favourites">
                                <i class="fa-regular fa-heart"></i>
                            </button>
                        </div>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        // Filter Buttons Logic
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                document.querySelectorAll('.filter-btn').forEach(b => {
                    b.classList.remove('bg-osr-maroon', 'text-white', 'shadow-lg');
                    b.classList.add('bg-gray-50', 'text-gray-500');
                });
                e.target.classList.remove('bg-gray-50', 'text-gray-500');
                e.target.classList.add('bg-osr-maroon', 'text-white', 'shadow-lg');
                renderMenu(e.target.dataset.category, document.getElementById('menu-search').value);
            });
        });

        // Search Input Logic
        document.getElementById('menu-search').addEventListener('input', (e) => {
            const activeCat = document.querySelector('.filter-btn.bg-osr-maroon').dataset.category;
            renderMenu(activeCat, e.target.value);
        });

        // --- Cart Logic ---
        function addToCart(id) {
            const item = menuItems.find(i => i.id === id);
            // Handle simple addition for standard items (backwards compatibility or no variants)
             // Unique ID for variant
            const variantId = `${id}-standard`;
            
            const existing = cart.find(i => i.variantId === variantId);
            
            if(existing) {
                existing.qty++;
            } else {
                cart.push({
                    id: item.id,
                    variantId: variantId,
                    name: item.name,
                    price: item.price,
                    type: item.type,
                    qty: 1
                });
            }
            
            saveCart();
            updateCartUI();
            
            // Visual Feedback on Button
            if(event && event.currentTarget) {
                const btn = event.currentTarget;
                const originalContent = btn.innerHTML;
                btn.innerHTML = `<i class="fa-solid fa-check mr-2"></i> Added`;
                btn.classList.add("bg-green-600", "text-white", "border-green-600");
                setTimeout(() => {
                    btn.innerHTML = originalContent;
                    btn.classList.remove("bg-green-600", "text-white", "border-green-600");
                }, 1500);
            }

            if(cart.length === 1 && existing === undefined) {
                 const drawer = document.getElementById('cart-drawer');
                 if(drawer.classList.contains('cart-closed')) toggleCart();
            }
        }

        function updateCartQty(variantId, change) {
             // Find by variantId now
            const item = cart.find(i => i.variantId === variantId || i.id === variantId); // Fallback for old items
            if(item) {
                item.qty += change;
                if(item.qty <= 0) {
                    cart = cart.filter(i => i.variantId !== variantId);
                }
                saveCart();
                updateCartUI();
            }
        }

        function saveCart() {
            localStorage.setItem('osr_cart', JSON.stringify(cart));
        }

        function updateCartUI() {
            const container = document.getElementById('cart-items');
            const countBadge = document.getElementById('cart-count');
            const totalEl = document.getElementById('cart-total');
            
            const count = cart.reduce((acc, item) => acc + item.qty, 0);
            countBadge.innerText = count;
            countBadge.style.transform = count > 0 ? 'scale(1)' : 'scale(0)';

            const total = cart.reduce((acc, item) => acc + (item.price * item.qty), 0);
            totalEl.innerText = `₹${total}`;

            if(cart.length === 0) {
                container.innerHTML = `
                    <div class="flex flex-col items-center justify-center h-full text-gray-400">
                        <div class="w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mb-4">
                            <i class="fa-solid fa-basket-shopping text-3xl text-gray-300"></i>
                        </div>
                        <p class="font-medium">Your cart is empty</p>
                         <button onclick="toggleCart(); window.location.href='#menu'" class="mt-4 text-osr-maroon text-sm font-bold hover:underline">Start Ordering</button>
                    </div>`;
                document.getElementById('btn-proceed-checkout').classList.add('opacity-50', 'pointer-events-none');
            } else {
                document.getElementById('btn-proceed-checkout').classList.remove('opacity-50', 'pointer-events-none');
                container.innerHTML = '';
                cart.forEach(item => {
                    const badgeClass = item.type === 'veg' ? 'badge-veg' : 'badge-nonveg';
                    const dotClass = item.type === 'veg' ? 'badge-veg-dot' : 'badge-nonveg-dot';
                    
                    const div = document.createElement('div');
                    div.className = "flex justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-gray-100 animate-[fadeIn_0.3s_ease]";
                    div.innerHTML = `
                        <div class="flex-1">
                            <div class="flex items-center gap-2 mb-1">
                                <div class="${badgeClass} w-[14px] h-[14px] p-[1px]"><div class="${dotClass} w-[6px] h-[6px]"></div></div>
                                <h4 class="font-bold text-sm text-osr-maroon line-clamp-1" title="${item.name}">${item.name}</h4>
                            </div>
                            <p class="text-xs text-gray-500 font-medium">₹${item.price} x ${item.qty}</p>
                        </div>
                        <div class="flex items-center gap-3 bg-gray-50 rounded-lg px-2 py-1">
                            <button onclick="updateCartQty('${item.variantId}', -1)" class="text-gray-400 px-1 hover:text-osr-maroon transition-colors"><i class="fa-solid fa-minus text-xs"></i></button>
                            <span class="text-sm font-bold w-4 text-center text-gray-700">${item.qty}</span>
                            <button onclick="updateCartQty('${item.variantId}', 1)" class="text-gray-400 px-1 hover:text-osr-maroon transition-colors"><i class="fa-solid fa-plus text-xs"></i></button>
                        </div>
                    `;
                    container.appendChild(div);
                });
            }
        }

        function toggleCart() {
            const drawer = document.getElementById('cart-drawer');
            const overlay = document.getElementById('cart-overlay');
            
            if (drawer.classList.contains('cart-closed')) {
                drawer.classList.remove('cart-closed');
                drawer.classList.add('cart-open');
                overlay.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
            } else {
                drawer.classList.remove('cart-open');
                drawer.classList.add('cart-closed');
                overlay.classList.add('hidden');
                document.body.style.overflow = '';
                // Hide checkout form if open
                document.getElementById('checkout-form-container').classList.add('hidden');
                document.getElementById('btn-proceed-checkout').classList.remove('hidden');
            }
        }

        function showCheckoutForm() {
            document.getElementById('btn-proceed-checkout').classList.add('hidden');
            document.getElementById('checkout-form-container').classList.remove('hidden');
        }

        function processCheckout() {
            const name = document.getElementById('checkout-name').value;
            const phone = document.getElementById('checkout-phone').value;
            const address = document.getElementById('checkout-address').value;

            if(!name || !phone || !address) {
                alert("Please fill in all delivery details.");
                return;
            }

            const btn = event.target;
            btn.innerHTML = `<div class="loader mx-auto border-t-white"></div>`;
            
            setTimeout(() => {
                alert(`Thank you ${name}! Your order has been placed successfully. Order ID: OSR-${Math.floor(Math.random()*10000)}`);
                cart = [];
                saveCart();
                updateCartUI();
                toggleCart();
                btn.innerText = "Confirm Order";
                document.getElementById('checkout-name').value = '';
                document.getElementById('checkout-phone').value = '';
                document.getElementById('checkout-address').value = '';
            }, 1500);
        }

        // --- Booking Logic ---
        function selectTime(btn) {
            document.querySelectorAll('.time-slot').forEach(b => {
                b.classList.remove('bg-osr-maroon', 'text-white', 'border-osr-maroon');
                b.classList.add('text-gray-600', 'border-gray-200');
            });
            btn.classList.add('bg-osr-maroon', 'text-white', 'border-osr-maroon');
            btn.classList.remove('text-gray-600', 'border-gray-200');
            document.getElementById('selected-time').value = btn.innerText;
        }

        function handleBooking(e) {
            e.preventDefault();
            const time = document.getElementById('selected-time').value;
            if(!time) {
                alert("Please select a time slot.");
                return;
            }
            
            const btn = e.target.querySelector('button[type="submit"]');
            const originalText = btn.innerText;
            btn.innerHTML = `<div class="loader mx-auto border-t-osr-maroon"></div>`;
            
            setTimeout(() => {
                alert("Table Reserved Successfully! You will receive a confirmation SMS shortly.");
                e.target.reset();
                document.querySelectorAll('.time-slot').forEach(b => {
                    b.classList.remove('bg-osr-maroon', 'text-white');
                    b.classList.add('text-gray-600');
                });
                btn.innerText = originalText;
                const bookings = JSON.parse(localStorage.getItem('osr_bookings')) || [];
                bookings.push({date: new Date().toISOString()});
                localStorage.setItem('osr_bookings', JSON.stringify(bookings));
            }, 1500);
        }

        // --- Review Logic ---
        function renderReviews() {
            const container = document.getElementById('reviews-container');
            container.innerHTML = '';
            
            const displayReviews = reviews.slice(-3);
            
            displayReviews.forEach(r => {
                const card = document.createElement('div');
                card.className = "bg-white p-8 rounded-2xl shadow-soft hover:shadow-xl transition-all border border-gray-100 reveal";
                
                let stars = '';
                for(let i=0; i<5; i++) {
                    if(i < r.rating) stars += '<i class="fa-solid fa-star text-osr-gold text-xs"></i>';
                    else stars += '<i class="fa-regular fa-star text-gray-200 text-xs"></i>';
                }

                card.innerHTML = `
                    <div class="flex items-center justify-between mb-6">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 bg-gradient-to-br from-osr-maroon to-black text-white rounded-full flex items-center justify-center font-bold font-heading text-lg shadow-lg">
                                ${r.name.charAt(0)}
                            </div>
                            <div>
                                <h5 class="font-bold text-gray-800">${r.name}</h5>
                                <div class="flex gap-1 mt-1">${stars}</div>
                            </div>
                        </div>
                        <i class="fa-solid fa-quote-right text-gray-100 text-5xl"></i>
                    </div>
                    <p class="text-gray-600 text-sm leading-relaxed italic">"${r.text}"</p>
                `;
                container.appendChild(card);
            });
        }

        function addReview(e) {
            e.preventDefault();
            const name = document.getElementById('review-name').value;
            const text = document.getElementById('review-text').value;
            const rating = parseInt(document.getElementById('review-rating').value);
            
            reviews.push({name, text, rating});
            localStorage.setItem('osr_reviews', JSON.stringify(reviews));
            renderReviews();
            e.target.reset();
            alert("Thank you for your review!");
        }

        // --- UI Interactions ---
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

        function openLightbox(el) {
            const img = el.querySelector('img').src;
            document.getElementById('lightbox-img').src = img;
            document.getElementById('lightbox').classList.remove('hidden');
        }

        function closeLightbox() {
            document.getElementById('lightbox').classList.add('hidden');
        }

        function closeOffer() {
            document.getElementById('offer-popup').classList.add('hidden');
        }

        // Navbar Scroll Effect
        window.addEventListener('scroll', () => {
            const nav = document.getElementById('navbar');
            const navBg = document.getElementById('nav-bg');
            
            if (window.scrollY > 20) {
                nav.classList.remove('py-4');
                nav.classList.add('py-3');
                // Updated Logic: Use 'glass-dark' effect instead of opacity transition
                navBg.className = 'absolute inset-0 transition-all duration-500 glass-dark';
            } else {
                nav.classList.add('py-4');
                nav.classList.remove('py-3');
                navBg.className = 'absolute inset-0 bg-transparent transition-all duration-500';
            }
        });

    </script>
</body>
</html>